{"ast":null,"code":"import { API } from \"../../API/API\";\nimport { ADD_TO_BASKET, DECREASE_QUANTITY, GET_SHOP_CATEGORY, GET_SHOP_LIST_CATEGORY, GET_SHOP_PRODUCT_DETAIL, GET_SHOP_PRODUCT_LIST, REMOVE_PRODUCT_BASKET } from \"../type/type\";\nexport const addToBasket = item => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  const productBasket = basket.find(el => el.id === item.id);\n\n  if (productBasket) {\n    basket = basket.map(el => {\n      return el.id === item.id ? { ...el,\n        quantity: el.quantity + 1\n      } : el;\n    });\n  } else {\n    basket = [...basket, { ...item,\n      quantity: 1\n    }];\n  }\n\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\n  return {\n    type: ADD_TO_BASKET,\n    payload: item\n  };\n};\nexport const DecreaseToBasket = item => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  basket = basket.map(el => {\n    return el.id !== item ? { ...el,\n      quantity: el.quantity - 1\n    } : el;\n  });\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\n  return {\n    type: DECREASE_QUANTITY,\n    payload: item\n  };\n};\n_c = DecreaseToBasket;\nexport const RemoveProductBasket = item => {\n  let basket = JSON.parse(localStorage.getItem(\"basket\")) || [];\n  basket = basket.filter(el => el.id !== item);\n  localStorage.setItem(\"basket\", JSON.stringify(basket));\n  return {\n    type: REMOVE_PRODUCT_BASKET,\n    payload: item\n  };\n}; /////////////////////////////////////////////////////\n\n_c2 = RemoveProductBasket;\nexport const getCategoryList = () => {\n  return dispatch => {\n    API.get(`categories/`).then(_ref => {\n      let {\n        data\n      } = _ref;\n      dispatch({\n        type: GET_SHOP_LIST_CATEGORY,\n        payload: data\n      });\n    });\n  };\n};\nexport const getCategory = id => {\n  return dispatch => {\n    API.get(`categories/${id}`).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      dispatch({\n        type: GET_SHOP_CATEGORY,\n        payload: data\n      });\n    });\n  };\n};\nexport const getProdList = () => {\n  return dispatch => {\n    API.get(`books/`).then(_ref3 => {\n      let {\n        data\n      } = _ref3;\n      dispatch({\n        type: GET_SHOP_PRODUCT_LIST,\n        payload: data\n      });\n    });\n  };\n};\nexport const getProdDetail = id => {\n  return dispatch => {\n    API.get(`books/${id}`).then(_ref4 => {\n      let {\n        data\n      } = _ref4;\n      dispatch({\n        type: GET_SHOP_PRODUCT_DETAIL,\n        payload: data\n      });\n    });\n  };\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DecreaseToBasket\");\n$RefreshReg$(_c2, \"RemoveProductBasket\");","map":{"version":3,"names":["API","ADD_TO_BASKET","DECREASE_QUANTITY","GET_SHOP_CATEGORY","GET_SHOP_LIST_CATEGORY","GET_SHOP_PRODUCT_DETAIL","GET_SHOP_PRODUCT_LIST","REMOVE_PRODUCT_BASKET","addToBasket","item","basket","JSON","parse","localStorage","getItem","productBasket","find","el","id","map","quantity","setItem","stringify","type","payload","DecreaseToBasket","RemoveProductBasket","filter","getCategoryList","dispatch","get","then","data","getCategory","getProdList","getProdDetail"],"sources":["C:/Users/User/Desktop/My Portfolio/exam-2/src/redux/action/action.js"],"sourcesContent":["import {API} from \"../../API/API\";\r\nimport {\r\n    ADD_TO_BASKET,\r\n    DECREASE_QUANTITY, GET_SHOP_CATEGORY,\r\n    GET_SHOP_LIST_CATEGORY,\r\n    GET_SHOP_PRODUCT_DETAIL,\r\n    GET_SHOP_PRODUCT_LIST,\r\n    REMOVE_PRODUCT_BASKET\r\n} from \"../type/type\";\r\n\r\nexport const addToBasket = (item) =>{\r\n    let basket = JSON.parse(localStorage.getItem(\"basket\")) || []\r\n    const productBasket = basket.find(el => el.id === item.id)\r\n    if (productBasket){\r\n        basket = basket.map(el => {\r\n            return el.id === item.id ? {...el, quantity: el.quantity + 1} : el\r\n        })\r\n    } else {\r\n        basket = [...basket , {...item , quantity: 1}]\r\n    }\r\n    localStorage.setItem(\"basket\", JSON.stringify(basket))\r\n    return {type:ADD_TO_BASKET , payload:item}\r\n}\r\n\r\nexport const DecreaseToBasket = (item) => {\r\n    let basket = JSON.parse(localStorage.getItem(\"basket\")) || []\r\n    basket = basket.map(el => {\r\n        return el.id !== item ? {...el, quantity: el.quantity - 1} : el\r\n    })\r\n    localStorage.setItem(\"basket\", JSON.stringify(basket))\r\n    return {type:DECREASE_QUANTITY , payload:item}\r\n}\r\n\r\nexport const RemoveProductBasket = (item) =>{\r\n    let basket = JSON.parse(localStorage.getItem(\"basket\")) || []\r\n    basket = basket.filter( el => el. id !== item)\r\n\r\n    localStorage.setItem(\"basket\", JSON.stringify(basket))\r\n    return {type:REMOVE_PRODUCT_BASKET , payload:item}\r\n}\r\n\r\n\r\n/////////////////////////////////////////////////////\r\n\r\nexport const getCategoryList = () =>{\r\n    return(dispatch) =>{\r\n        API.get(`categories/`)\r\n            .then(({data})=>{\r\n                dispatch({type:GET_SHOP_LIST_CATEGORY, payload:data})\r\n            })\r\n    }\r\n}\r\n\r\nexport const getCategory = (id) =>{\r\n    return(dispatch) =>{\r\n        API.get(`categories/${id}`)\r\n            .then(({data})=>{\r\n                dispatch({type:GET_SHOP_CATEGORY, payload:data})\r\n            })\r\n    }\r\n}\r\n\r\nexport const getProdList = () =>{\r\n    return(dispatch) =>{\r\n        API.get(`books/`)\r\n            .then(({data})=>{\r\n                dispatch({type:GET_SHOP_PRODUCT_LIST , payload:data})\r\n            })\r\n    }\r\n}\r\n\r\nexport const getProdDetail = (id) =>{\r\n    return(dispatch) =>{\r\n        API.get(`books/${id}`)\r\n            .then(({data})=>{\r\n                dispatch({type:GET_SHOP_PRODUCT_DETAIL , payload:data})\r\n            })\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}